# Downloading and Using Artifacts

## What are Artifacts?

Artifacts are pre-built versions of the extension generated by GitHub Actions. They're ready to install without needing to build from source.

## Available Artifacts

Each build creates **two types** of artifacts:

### 1. ZIP Package (`extension-{env}-v{build_number}`)
- **Format**: Single ZIP file
- **Use case**: Distribution and sharing
- **Installation**: Download â†’ Extract â†’ Load in Chrome

### 2. Unzipped Extension (`extension-{env}-unzipped-v{build_number}`)
- **Format**: Folder structure (pre-extracted)
- **Use case**: Quick installation
- **Installation**: Download â†’ Load directly in Chrome

## Environments

Artifacts are available for three environments:

| Environment | Use Case | URL Pattern |
|-------------|----------|-------------|
| **Dev** | Development/testing | `extension-dev-v{build}` |
| **Test** | QA and staging | `extension-test-v{build}` |
| **Prod** | Production use | `extension-prod-v{build}` |

## How to Download

### Step 1: Navigate to Actions
Go to: [GitHub Actions](https://github.com/gdcorp-engineering/ans-browser-extension/actions)

### Step 2: Select Build
1. Click on **"Build Extension"** workflow
2. Select a workflow run from the list
3. Make sure the build completed successfully (green checkmark âœ“)

### Step 3: Download Artifact
1. Scroll down to the **Artifacts** section at the bottom
2. You'll see two artifacts for the selected environment
3. Click on the artifact name to download

Example artifacts:
```
Artifacts
â”œâ”€â”€ extension-dev-v9         (386 KB) - ZIP package
â””â”€â”€ extension-dev-unzipped-v9 (387 KB) - Unzipped folder
```

## Installing from ZIP Package

1. **Download** the ZIP artifact (`extension-{env}-v{build_number}`)
2. **Extract** the ZIP file to a folder
3. Open Chrome and go to `chrome://extensions/`
4. Enable **Developer mode** (toggle in top right)
5. Click **Load unpacked**
6. Select the **extracted folder** (not the ZIP file)

## Installing from Unzipped Artifact

1. **Download** the unzipped artifact (`extension-{env}-unzipped-v{build_number}`)
2. **Extract** the downloaded ZIP (GitHub wraps it)
3. Open Chrome and go to `chrome://extensions/`
4. Enable **Developer mode**
5. Click **Load unpacked**
6. Select the extracted folder

> **Note**: Even "unzipped" artifacts are downloaded as a ZIP from GitHub Actions. You still need to extract them once.

## Artifact Retention

- **Retention period**: 90 days
- Older artifacts are automatically deleted
- Download artifacts you want to keep long-term

## Build Information

Each build includes information in the GitHub Actions summary:

### Example Build Summary
```
ðŸŽ‰ Build completed successfully!

Environment: dev
Version: 1.1.9
Build Number: #9

---

ðŸ“¦ Download Artifacts

Two artifact types are available:

1. ZIP Package - extension-dev-v9
   - Ready to distribute, single file download
   - Extract and load in Chrome via chrome://extensions/

2. Unzipped Extension - extension-dev-unzipped-v9
   - Direct folder structure
   - Load directly in Chrome as unpacked extension

---

ðŸ“‹ Installation Instructions

1. Download the artifact from the Artifacts section above
2. Extract the ZIP file (if using ZIP package)
3. Open Chrome and go to chrome://extensions/
4. Enable Developer mode (top right)
5. Click Load unpacked
6. Select the extracted extension folder
```

## Triggering a New Build

To create new artifacts:

1. Go to the [Actions tab](https://github.com/gdcorp-engineering/ans-browser-extension/actions)
2. Click **"Build Extension"** workflow
3. Click **"Run workflow"** button (top right)
4. Select environment: **dev**, **test**, or **prod**
5. Click **"Run workflow"**
6. Wait for build to complete (usually 1-2 minutes)
7. Download artifacts from the completed workflow run

## Comparing Artifacts

Both artifact types contain identical extension files:

```
extension/
â”œâ”€â”€ manifest.json          # Extension manifest
â”œâ”€â”€ sidepanel.html         # Chat interface HTML
â”œâ”€â”€ settings.html          # Settings page HTML
â”œâ”€â”€ background.js          # Background service worker
â”œâ”€â”€ content.js             # Content script
â”œâ”€â”€ sidepanel.js           # Sidebar panel code
â”œâ”€â”€ settings.js            # Settings page code
â”œâ”€â”€ chunks/                # Code chunks
â””â”€â”€ icons/                 # Extension icons
    â””â”€â”€ icon.png
```

**Which should you use?**
- **ZIP Package**: Better for sharing with others or archiving
- **Unzipped Folder**: Slightly faster to install (one less extraction step)

Both work identically once installed in Chrome.

## Troubleshooting

### Artifact not found
- The build may have failed - check for red X in workflow run
- Artifact may have expired (90-day retention)
- Build a new version from the Actions tab

### Can't extract ZIP
- Make sure you have a ZIP extraction tool installed
- On Windows: Use built-in extractor or 7-Zip
- On Mac: Double-click the ZIP file
- On Linux: Use `unzip` command

### Extension won't load
- Ensure you extracted the ZIP completely
- Verify you selected the correct folder (should contain `manifest.json`)
- Check that Developer mode is enabled in `chrome://extensions/`
